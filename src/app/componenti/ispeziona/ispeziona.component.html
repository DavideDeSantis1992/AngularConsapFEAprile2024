<app-headeraccesso></app-headeraccesso>

<app-breadcrumbsispeziona></app-breadcrumbsispeziona>
<section class="it-hero-wrapper it-dark it-overlay">
    <!-- Immagine sfondo-->
    <div class="img-responsive-wrapper">
        <div class="img-responsive">
            <div class="img-wrapper">
                <img src="https://i.pinimg.com/736x/35/d6/99/35d6995038a7b36fb863419c91517e33.jpg"
                    title="titolo immagine" alt="descrizione immagine">
            </div>
        </div>
    </div>

    <!-- Contenuto -->
    <div class="container text-white">
        <!-- Prima Riga -->
        <div class="row">
            <div class="col-md-3">
                <label for="numeroTicket">Numero Ticket</label>
                <input type="text" class="form-control" id="numeroTicket" [value]="richiestaShow?.numeroTicket" readonly>
            </div>
            
            <div class="col-md-6">
                <label for="oggetto">Oggetto</label>
                <input type="text" class="form-control" id="oggetto" 
                [value]="richiestaShow?.oggetto"
                readonly>
            </div>
            <div class="col-md-3">
                <label for="applicativo">Applicativo</label>
                <input type="text" class="form-control" id="applicativo"
                       [value]="richiestaShow?.applicativo ? richiestaShow.applicativo.descApplicativo : '-'" readonly>
            </div>
            
        </div>
        <!-- 2a Riga -->
        <div class="row">
            <div class="col-md-3">
                <label for="statoRichiestaConsap">Stato Richiesta CONSAP</label>
                <input type="text" class="form-control" id="statoRichiestaConsap"
                [value]="richiestaShow?.statoRichiestaConsap ? richiestaShow.statoRichiestaConsap.descStatoRichiestaConsap : '-'"
                readonly>
            </div>
            <div class="col-md-3">
                <label for="statoRichiestaOs">Stato Richiesta OS</label>
                <input type="text" class="form-control" id="statoRichiestaOs"
                [value]="richiestaShow?.statoRichiestaOs ? richiestaShow.statoRichiestaOs.descStatoRichiestaOs : '-'"
                readonly>
            </div>
            <div class="col-md-3">
                <label for="statoApprovazioneConsap">Stato Approvazione CONSAP</label>
                <input type="text" class="form-control" id="statoApprovazioneConsap" 
                [value]="richiestaShow?.statoApprovazioneConsap ? richiestaShow.statoApprovazioneConsap.descStatoApprovazioneConsap : '-'"
                readonly>
            </div>
            <div class="col-md-3">
                <label for="statoApprovazioneOs">Stato Approvazione OS</label>
                <input type="text" class="form-control" id="statoApprovazioneOs" 
                [value]="richiestaShow?.statoApprovazioneOs ? richiestaShow.statoApprovazioneOs.descStatoApprovazioneOs : '-'"
                readonly>
            </div>
        </div>
        <!-- 3a Riga -->
        <div class="row">
            <div class="col-md-3">
                <label for="dataCreazione">Data Creazione</label>
                <input type="date" class="form-control" id="dataCreazione"
                [value]="richiestaShow?.dataCreazione"
                readonly>
            </div>
            <div class="col-md-3">
                <label for="dataStimaFinale">Data Stima Fine</label>
                <input type="date" class="form-control" id="dataStimaFinale"
                [value]="richiestaShow?.dataStimaFinale ? richiestaShow.dataStimaFinale : '-'"
                readonly>
            </div>
            <div class="col-md-3">
                <label for="commessaOs">Commessa OS</label>
                <input type="text" class="form-control" id="commessaOs"
                [value]="richiestaShow?.commessaOs ? richiestaShow.commessaOs.descCommessaOs : '-'"
                readonly>
            </div>
            <div class="col-md-3">
                <label for="importo">Importo</label>
                <input type="text" class="form-control" id="importo"
                [value]="richiestaShow?.importo"
                readonly>
            </div>
        </div>
        <br>
        <div class="btn-container">
            <div class="btn-example">
              <button type="button" class="btn btn-secondary">Stampa</button>
            </div>
          </div>

          <br>
    <table class="table table-success table-borderless">
        <thead>
          <tr class="argomento">
            <th scope="col">Numero Ticket</th>
            <th scope="col">Oggetto</th>
            <th scope="col">Applicativo</th>
            <th scope="col">Data Inserimento</th>
            <th scope="col">Gestione Richiesta</th>
          </tr>
        </thead>
        <tbody>
          <tr *ngFor="let storia of richiesta">
            <td *ngIf="storia?.numeroTicket !== null">{{storia.numeroTicket}}</td>
            <td>{{storia.oggetto}}</td>
            <td>{{storia.applicativo.descApplicativo}}</td>
            <td>{{storia.dataInserimento}}</td>
            <td>
                <a style="margin-right: 25px;" (click)="visualizzaRichiestaStorica(storia)">
                    <svg class="icon icon-sm icon-secondary align-top me-1" aria-hidden="true" style="cursor: pointer;">
                        <use href="#it-zoom-in" fill="black"></use>
                    </svg>
                </a>
                
                <a href="/modifica" style="margin-right: 25px;">
                    <svg class="icon icon-sm icon-secondary align-top me-1" aria-hidden="true">
                        <use href="#it-pencil" fill="black"></use>
                    </svg>
                </a>                
            </td>
            
              
            
          </tr>
          
        </tbody>
      </table>
    </div>
    
</section>

